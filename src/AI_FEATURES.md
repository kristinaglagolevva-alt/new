# ü§ñ AI –§—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –£—Ç–∏–ª–∏—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`/utils/documentGenerator.ts`)

–û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenAI API:

- `generateDocumentWithAI()` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- `generateDocumentSimple()` - fallback –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑ AI
- `checkOpenAIAvailability()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç AI –∫–Ω–æ–ø–∫–∏ (`/components/AIGenerateButton.tsx`)

–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI:

```tsx
<AIGenerateButton
  onGenerate={(content) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    console.log(content);
  }}
  context={{
    documentType: 'act',
    projectName: '–ú–æ–π –ø—Ä–æ–µ–∫—Ç',
  }}
/>
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í —Ä–∞–∑–¥–µ–ª–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ API –∫–ª—é—á–∞ OpenAI.

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —à–∞–±–ª–æ–Ω—ã

–í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ—è–≤–∏–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ **"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AI"**.

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** (‚öôÔ∏è –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é)
   - –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí OpenAI API**
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á: `sk-proj-...`

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
   - –ù–∞–∂–º–∏—Ç–µ **"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AI"**
   - –û–ø–∏—à–∏—Ç–µ —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å
   - –ù–∞–∂–º–∏—Ç–µ **"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"**

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤

**–î–ª—è –∞–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç:**
```
–°–æ–∑–¥–∞–π –∞–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á (–ò–ù–ù: 123456789012)
–ó–∞–∫–∞–∑—á–∏–∫: –û–û–û "–ê–∫—Ç–µ—Ö" (–ò–ù–ù: 7701234567)
–ü–µ—Ä–∏–æ–¥: –Ø–Ω–≤–∞—Ä—å 2025
–†–∞–±–æ—Ç—ã:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ - 40 —á–∞—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API - 30 —á–∞—Å–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - 15 —á–∞—Å–æ–≤
–ò—Ç–æ–≥–æ: 85 —á–∞—Å–æ–≤, 255 000 —Ä—É–±–ª–µ–π
```

**–î–ª—è —Å—á–µ—Ç–∞:**
```
–°–æ–∑–¥–∞–π —Å—á–µ—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É –¥–ª—è –û–û–û "–ê–∫—Ç–µ—Ö" –æ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ò–ü –ü–µ—Ç—Ä–æ–≤ –ü.–ü.
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞
–°—É–º–º–∞: 500 000 —Ä—É–±–ª–µ–π
```

**–î–ª—è –¥–æ–≥–æ–≤–æ—Ä–∞:**
```
–°–æ–∑–¥–∞–π –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –º–µ–∂–¥—É –û–û–û "–ê–∫—Ç–µ—Ö" (–∑–∞–∫–∞–∑—á–∏–∫) 
–∏ –ò–≤–∞–Ω–æ–≤—ã–º –ò.–ò. (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å).
–ü—Ä–µ–¥–º–µ—Ç: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–°—Ä–æ–∫: 3 –º–µ—Å—è—Ü–∞
–°—Ç–æ–∏–º–æ—Å—Ç—å: 900 000 —Ä—É–±–ª–µ–π
```

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í –∫–æ–¥–µ

```typescript
import { generateDocumentWithAI } from './utils/documentGenerator';

const result = await generateDocumentWithAI({
  documentType: 'act', // 'act' | 'invoice' | 'contract'
  templateContent: '–í–∞—à —à–∞–±–ª–æ–Ω...',
  taskData: {
    projectName: '–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞',
    period: '–Ø–Ω–≤–∞—Ä—å 2025',
    tasks: [
      { title: '–ó–∞–¥–∞—á–∞ 1', hours: 10, description: '–û–ø–∏—Å–∞–Ω–∏–µ' },
      { title: '–ó–∞–¥–∞—á–∞ 2', hours: 20 },
    ],
    totalHours: 30,
    totalAmount: 90000,
    contractor: {
      name: '–ò–≤–∞–Ω–æ–≤ –ò.–ò.',
      inn: '123456789012',
      passport: '1234 567890',
    },
    client: {
      name: '–û–û–û "–ö–æ–º–ø–∞–Ω–∏—è"',
      inn: '7701234567',
    },
  },
  customVariables: {
    '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è': '–ó–Ω–∞—á–µ–Ω–∏–µ',
  },
});

if (result.success) {
  console.log('–î–æ–∫—É–º–µ–Ω—Ç:', result.content);
} else {
  console.error('–û—à–∏–±–∫–∞:', result.error);
}
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç

```tsx
import { AIGenerateButton } from './components/AIGenerateButton';

<AIGenerateButton
  onGenerate={(content) => {
    // –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
    setDocumentContent(content);
  }}
  context={{
    documentType: 'act',
    projectName: '–ú–æ–π –ø—Ä–æ–µ–∫—Ç',
    additionalInfo: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç',
  }}
  buttonVariant="outline"
  buttonSize="sm"
/>
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `/utils/documentGenerator.ts` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```typescript
{
  model: 'gpt-4',           // –ò–ª–∏ 'gpt-3.5-turbo' –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏
  temperature: 0.3,         // 0-2, –≤–ª–∏—è–µ—Ç –Ω–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
  max_tokens: 2000,         // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
}
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### GPT-4
- –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~$0.03 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤
- –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~$0.06 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤
- **–°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞: $0.05-0.15**

### GPT-3.5-Turbo (—ç–∫–æ–Ω–æ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
- –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~$0.0015 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤  
- –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~$0.002 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤
- **–°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞: $0.005-0.02**

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPT-3.5-Turbo, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `documentGenerator.ts`:
```typescript
model: 'gpt-3.5-turbo'
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ù–ï –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!**

API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –≤–∏–¥–µ–Ω –≤ DevTools. –≠—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –õ–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–µ–Ω –±—ç–∫–µ–Ω–¥:

1. **Node.js —Å–µ—Ä–≤–µ—Ä** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2. **Serverless —Ñ—É–Ω–∫—Ü–∏–∏** (Vercel, Netlify)
3. **Supabase Edge Functions**

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ `OPENAI_INTEGRATION.md`.

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
‚Üí –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### "Failed to fetch" / CORS –æ—à–∏–±–∫–∞
‚Üí OpenAI API –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å CORS, –Ω–æ –∏–Ω–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç.
–†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ç–∫–µ–Ω–¥ proxy.

### "Rate limit exceeded"
‚Üí –í—ã –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ OpenAI.
–†–µ—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö OpenAI.

### "Invalid API key"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

### –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ–±—Ä–µ–∑–∞–Ω
‚Üí –£–≤–µ–ª–∏—á—å—Ç–µ `max_tokens` –≤ `documentGenerator.ts`

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OpenAI Platform](https://platform.openai.com)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](https://platform.openai.com/docs)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](https://github.com/openai/openai-cookbook)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤](https://platform.openai.com/account/billing/limits)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ UI
3. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
4. ‚¨ú –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
5. ‚¨ú –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
6. ‚¨ú –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ UI
7. ‚¨ú –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥ —Å–µ—Ä–≤–∏—Å–∞

## üìù –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ AI —Ñ—É–Ω–∫—Ü–∏–π, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
